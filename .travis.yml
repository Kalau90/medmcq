sudo: false
language: node_js
node_js:
  - '10'
branches:
  only:
    - travis
cache:
  directories:
    - node_modules
    - server/node_modules
    - client/node_modules
before_install:
  - npm run update-all
install:
  - npm run install-all
script:
  - npm run validate
env:
  global:
    - NODE_ENV=travis
    - DB_DB=test
    - KEYGRIP_SECRETS="secret1 test2 aha3"
    - MIGRATION_PASS="undefined"
    - SENDGRID="NotUsed"
